<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ajinkya Deshmukh">

<title>Hw-02-01</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Hw-02-01_files/libs/clipboard/clipboard.min.js"></script>
<script src="Hw-02-01_files/libs/quarto-html/quarto.js"></script>
<script src="Hw-02-01_files/libs/quarto-html/popper.min.js"></script>
<script src="Hw-02-01_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Hw-02-01_files/libs/quarto-html/anchor.min.js"></script>
<link href="Hw-02-01_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Hw-02-01_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Hw-02-01_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Hw-02-01_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Hw-02-01_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Hw-02-01</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ajinkya Deshmukh </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="starting-with-the-required-setups" class="level2">
<h2 class="anchored" data-anchor-id="starting-with-the-required-setups">Starting with the Required Setups</h2>
<p>Preparing the required setup with necessary packages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">list</span>(<span class="at">CRAN =</span> <span class="st">"http://cran.rstudio.com/"</span>))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sets the number of significant figures to two - e.g., 0.01</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidytuesdayR"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
The downloaded binary packages are in
    /var/folders/kx/gs8nsljj1rq_nvzhpchn_g5c0000gn/T//Rtmp7CrjNr/downloaded_packages</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Required package for quick package downloading and loading </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(pacman))  </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: pacman</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Downloads and load required packages</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(dlookr, <span class="co"># Exploratory data analysis</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>               forecast, <span class="co"># Needed for Box-Cox transformations</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>               formattable, <span class="co"># HTML tables from R outputs</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>               here, <span class="co"># Standardizes paths to data</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>               kableExtra, <span class="co"># Alternative to formattable</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>               knitr, <span class="co"># Needed to write HTML reports</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>               missRanger, <span class="co"># To generate NAs</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>               tidyverse) <span class="co"># Powerful data wrangling package suite</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="loading-and-examining-the-data" class="level3">
<h3 class="anchored" data-anchor-id="loading-and-examining-the-data">Loading and Examining the Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the Data</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in with tidytuesdayR package </span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install from CRAN via: install.packages("tidytuesdayR")</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This loads the readme and all the datasets for the week of interest</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the data manually</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-17/artists.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 3162 Columns: 14
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (8): artist_name, artist_nationality, artist_nationality_other, artist_g...
dbl (6): edition_number, year, space_ratio_per_page_total, artist_unique_id,...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
<section id="loading-the-dataset-artists-from-tidytuesday-package" class="level3">
<h3 class="anchored" data-anchor-id="loading-the-dataset-artists-from-tidytuesday-package">Loading the Dataset (“artists”) from TidyTuesday package</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's load a data set from the artists data set</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"artists.csv"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">|&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 3,162
Columns: 14
$ artist_name                &lt;chr&gt; "Aaron Douglas", "Aaron Douglas", "Aaron Do…
$ edition_number             &lt;dbl&gt; 9, 10, 11, 99, 13, 14, 15, 16, 14, 15, 16, …
$ year                       &lt;int&gt; 1991, 1996, 2001, 2005, 2009, 2013, 2016, 2…
$ artist_nationality         &lt;chr&gt; "American", "American", "American", "Americ…
$ artist_nationality_other   &lt;chr&gt; "American", "American", "American", "Americ…
$ artist_gender              &lt;chr&gt; "Male", "Male", "Male", "Male", "Male", "Ma…
$ artist_race                &lt;chr&gt; "Black or African American", "Black or Afri…
$ artist_ethnicity           &lt;chr&gt; "Not Hispanic or Latino origin", "Not Hispa…
$ book                       &lt;chr&gt; "Gardner", "Gardner", "Gardner", "Gardner",…
$ space_ratio_per_page_total &lt;dbl&gt; 0.35, 0.37, 0.30, 0.38, 0.40, 0.45, 0.48, 0…
$ artist_unique_id           &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 4, 4, 4, 6, 6, 6, 6…
$ moma_count_to_year         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ whitney_count_to_year      &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ artist_race_nwi            &lt;chr&gt; "Non-White", "Non-White", "Non-White", "Non…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What does the data look like?</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formattable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
artist_name
</th>
<th style="text-align:right;">
edition_number
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
artist_nationality
</th>
<th style="text-align:right;">
artist_nationality_other
</th>
<th style="text-align:right;">
artist_gender
</th>
<th style="text-align:right;">
artist_race
</th>
<th style="text-align:right;">
artist_ethnicity
</th>
<th style="text-align:right;">
book
</th>
<th style="text-align:right;">
space_ratio_per_page_total
</th>
<th style="text-align:right;">
artist_unique_id
</th>
<th style="text-align:right;">
moma_count_to_year
</th>
<th style="text-align:right;">
whitney_count_to_year
</th>
<th style="text-align:right;">
artist_race_nwi
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
Aaron Douglas
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
1991
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Black or African American
</td>
<td style="text-align:right;">
Not Hispanic or Latino origin
</td>
<td style="text-align:right;">
Gardner
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Non-White
</td>
</tr>
<tr>
<td style="text-align:right;">
Aaron Douglas
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1996
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Black or African American
</td>
<td style="text-align:right;">
Not Hispanic or Latino origin
</td>
<td style="text-align:right;">
Gardner
</td>
<td style="text-align:right;">
0.37
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Non-White
</td>
</tr>
<tr>
<td style="text-align:right;">
Aaron Douglas
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Black or African American
</td>
<td style="text-align:right;">
Not Hispanic or Latino origin
</td>
<td style="text-align:right;">
Gardner
</td>
<td style="text-align:right;">
0.30
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Non-White
</td>
</tr>
<tr>
<td style="text-align:right;">
Aaron Douglas
</td>
<td style="text-align:right;">
99
</td>
<td style="text-align:right;">
2005
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Black or African American
</td>
<td style="text-align:right;">
Not Hispanic or Latino origin
</td>
<td style="text-align:right;">
Gardner
</td>
<td style="text-align:right;">
0.38
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Non-White
</td>
</tr>
<tr>
<td style="text-align:right;">
Aaron Douglas
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
2009
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Black or African American
</td>
<td style="text-align:right;">
Not Hispanic or Latino origin
</td>
<td style="text-align:right;">
Gardner
</td>
<td style="text-align:right;">
0.40
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Non-White
</td>
</tr>
<tr>
<td style="text-align:right;">
Aaron Douglas
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
2013
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
American
</td>
<td style="text-align:right;">
Male
</td>
<td style="text-align:right;">
Black or African American
</td>
<td style="text-align:right;">
Not Hispanic or Latino origin
</td>
<td style="text-align:right;">
Gardner
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Non-White
</td>
</tr>
</tbody>

</table>
</div>
</div>
<ul>
<li><p>From the dataset used we have displayed the attributes of the dataset in 2 formats:</p></li>
<li><p><strong>data.frame:</strong> displays the attributes in the dataset with the datatypes.</p></li>
<li><p><strong>formattable_widge:</strong> displays the attributes and the data associated with the attributes.</p></li>
</ul>
</section>
</section>
<section id="data-normality" class="level2">
<h2 class="anchored" data-anchor-id="data-normality">Data Normality</h2>
<p>Normal distributions, often represented as bell curves, serve as a fundamental assumption in various hypothesis testing statistics, particularly in the realm of parametric statistics. Departures from normality can significantly distort the outcomes or diminish the ability to detect substantial statistical distinctions.</p>
<p>Key distribution characteristics to be mindful of include:</p>
<ol type="1">
<li><p>The mean, median, and mode sharing the same value.</p></li>
<li><p>Symmetry of the distribution around the mean.</p></li>
<li><p>Normal distributions being characterized by their mean and standard deviation.</p></li>
</ol>
<section id="describing-properties-of-our-data" class="level3">
<h3 class="anchored" data-anchor-id="describing-properties-of-our-data">Describing Properties of our Data</h3>
<section id="skewness" class="level4">
<h4 class="anchored" data-anchor-id="skewness">Skewness</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, artist_unique_id, moma_count_to_year) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe</span>() <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(described_variables, skewness) <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formattable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
described_variables
</th>
<th style="text-align:right;">
skewness
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
year
</td>
<td style="text-align:right;">
-1.07
</td>
</tr>
<tr>
<td style="text-align:right;">
artist_unique_id
</td>
<td style="text-align:right;">
0.13
</td>
</tr>
<tr>
<td style="text-align:right;">
moma_count_to_year
</td>
<td style="text-align:right;">
3.38
</td>
</tr>
</tbody>

</table>
</div>
</div>
<ul>
<li>From the dataset used we are calculating the skewness of the numerical attributes.</li>
</ul>
</section>
</section>
<section id="testing-normality" class="level3">
<h3 class="anchored" data-anchor-id="testing-normality">Testing Normality</h3>
<section id="q-q-plots" class="level4">
<h4 class="anchored" data-anchor-id="q-q-plots">Q-Q Plots</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_normality</span>(year, artist_unique_id, moma_count_to_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-5-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We are calculating the Normality and plotting the normality for the numerical attributes mentioned above from the dataset.</li>
</ul>
</section>
<section id="normality-within-groups" class="level4">
<h4 class="anchored" data-anchor-id="normality-within-groups">Normality within Groups</h4>
<p>Looking with <strong>year</strong> at the subgroup normality</p>
<section id="q-q-plots-1" class="level5">
<h5 class="anchored" data-anchor-id="q-q-plots-1">Q-Q Plots</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(artist_gender) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, artist_unique_id) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_normality</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Adding missing grouping variables: `artist_gender`</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-6-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-6-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-6-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-6-6.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We are calculating the Normality by grouping the numerical attributes and plotting the normality from the dataset.</li>
</ul>
</section>
</section>
</section>
<section id="transforming-data" class="level3">
<h3 class="anchored" data-anchor-id="transforming-data">Transforming Data</h3>
<p>We will try to transform the <strong>Moma_count_to_year</strong> column through several approaches and discuss the pros and cons of each. First however, we will remove <strong>0</strong> values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>InsMod <span class="ot">&lt;-</span> dataset <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(moma_count_to_year <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="square-root-cube-root-and-logarithmic-transformations" class="level3">
<h3 class="anchored" data-anchor-id="square-root-cube-root-and-logarithmic-transformations">Square-root, Cube-root, and Logarithmic Transformations</h3>
</section>
<section id="square-root-transformation" class="level3">
<h3 class="anchored" data-anchor-id="square-root-transformation">Square-root Transformation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>sqrtIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>moma_count_to_year, <span class="at">method =</span> <span class="st">"sqrt"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sqrtIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with sqrt

* Information of Transformation (before vs after)
         Original Transformation
n          1972.0        2.0e+03
na            0.0        0.0e+00
mean          6.9        2.3e+00
sd            8.9        1.3e+00
se_mean       0.2        2.9e-02
IQR           6.0        1.4e+00
skewness      2.8        1.5e+00
kurtosis      9.0        2.3e+00
p00           1.0        1.0e+00
p01           1.0        1.0e+00
p05           1.0        1.0e+00
p10           1.0        1.0e+00
p20           1.0        1.0e+00
p25           2.0        1.4e+00
p30           2.0        1.4e+00
p40           3.0        1.7e+00
p50           4.0        2.0e+00
p60           5.0        2.2e+00
p70           7.0        2.6e+00
p75           8.0        2.8e+00
p80           9.0        3.0e+00
p90          17.0        4.1e+00
p95          27.0        5.2e+00
p99          44.0        6.6e+00
p100         64.0        8.0e+00</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>sqrtIns <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can calculating the transformation based on method <strong>sqrt</strong> for <strong>Square Root</strong> transformation.</li>
</ul>
</section>
<section id="logarithmic-1-transformation" class="level3">
<h3 class="anchored" data-anchor-id="logarithmic-1-transformation">Logarithmic (+1) Transformation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>Log1Ins <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>moma_count_to_year, <span class="at">method =</span> <span class="st">"log+1"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Log1Ins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with log+1

* Information of Transformation (before vs after)
         Original Transformation
n          1972.0       1972.000
na            0.0          0.000
mean          6.9          1.676
sd            8.9          0.820
se_mean       0.2          0.018
IQR           6.0          1.099
skewness      2.8          0.726
kurtosis      9.0         -0.115
p00           1.0          0.693
p01           1.0          0.693
p05           1.0          0.693
p10           1.0          0.693
p20           1.0          0.693
p25           2.0          1.099
p30           2.0          1.099
p40           3.0          1.386
p50           4.0          1.609
p60           5.0          1.792
p70           7.0          2.079
p75           8.0          2.197
p80           9.0          2.303
p90          17.0          2.890
p95          27.0          3.332
p99          44.0          3.807
p100         64.0          4.174</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>Log1Ins <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can calculating the transformation based on method <strong>log+1</strong> for <strong>Logarithmic</strong> transformation.</li>
</ul>
</section>
<section id="inverse-transformation" class="level3">
<h3 class="anchored" data-anchor-id="inverse-transformation">Inverse Transformation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>InvIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>moma_count_to_year, <span class="at">method =</span> <span class="st">"1/x"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(InvIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with 1/x

* Information of Transformation (before vs after)
         Original Transformation
n          1972.0        2.0e+03
na            0.0        0.0e+00
mean          6.9        4.0e-01
sd            8.9        3.4e-01
se_mean       0.2        7.7e-03
IQR           6.0        3.8e-01
skewness      2.8        8.9e-01
kurtosis      9.0       -6.7e-01
p00           1.0        1.6e-02
p01           1.0        2.3e-02
p05           1.0        3.7e-02
p10           1.0        5.9e-02
p20           1.0        1.1e-01
p25           2.0        1.2e-01
p30           2.0        1.4e-01
p40           3.0        2.0e-01
p50           4.0        2.5e-01
p60           5.0        3.3e-01
p70           7.0        5.0e-01
p75           8.0        5.0e-01
p80           9.0        1.0e+00
p90          17.0        1.0e+00
p95          27.0        1.0e+00
p99          44.0        1.0e+00
p100         64.0        1.0e+00</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>InvIns <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can calculating the transformation based on method <strong>1/x</strong> for <strong>Inverse</strong> transformation.</li>
</ul>
</section>
<section id="squared-transformation" class="level3">
<h3 class="anchored" data-anchor-id="squared-transformation">Squared Transformation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>SqrdIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>moma_count_to_year, <span class="at">method =</span> <span class="st">"x^2"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(SqrdIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with x^2

* Information of Transformation (before vs after)
         Original Transformation
n          1972.0         1972.0
na            0.0            0.0
mean          6.9          127.0
sd            8.9          372.8
se_mean       0.2            8.4
IQR           6.0           60.0
skewness      2.8            5.4
kurtosis      9.0           37.2
p00           1.0            1.0
p01           1.0            1.0
p05           1.0            1.0
p10           1.0            1.0
p20           1.0            1.0
p25           2.0            4.0
p30           2.0            4.0
p40           3.0            9.0
p50           4.0           16.0
p60           5.0           25.0
p70           7.0           49.0
p75           8.0           64.0
p80           9.0           81.0
p90          17.0          289.0
p95          27.0          729.0
p99          44.0         1936.0
p100         64.0         4096.0</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>SqrdIns <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can calculating the transformation based on method <strong>x^2</strong> for <strong>Square</strong> transformation.</li>
</ul>
</section>
<section id="cubed-transformation" class="level3">
<h3 class="anchored" data-anchor-id="cubed-transformation">Cubed Transformation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>CubeIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>moma_count_to_year, <span class="at">method =</span> <span class="st">"x^3"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(CubeIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with x^3

* Information of Transformation (before vs after)
         Original Transformation
n          1972.0        2.0e+03
na            0.0        0.0e+00
mean          6.9        3.9e+03
sd            8.9        1.8e+04
se_mean       0.2        4.0e+02
IQR           6.0        5.0e+02
skewness      2.8        8.4e+00
kurtosis      9.0        8.7e+01
p00           1.0        1.0e+00
p01           1.0        1.0e+00
p05           1.0        1.0e+00
p10           1.0        1.0e+00
p20           1.0        1.0e+00
p25           2.0        8.0e+00
p30           2.0        8.0e+00
p40           3.0        2.7e+01
p50           4.0        6.4e+01
p60           5.0        1.2e+02
p70           7.0        3.4e+02
p75           8.0        5.1e+02
p80           9.0        7.3e+02
p90          17.0        4.9e+03
p95          27.0        2.0e+04
p99          44.0        8.5e+04
p100         64.0        2.6e+05</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>CubeIns <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can calculating the transformation based on method <strong>x^3</strong> for <strong>Cubic</strong> transformation.</li>
</ul>
</section>
<section id="box-cox-transformation" class="level3">
<h3 class="anchored" data-anchor-id="box-cox-transformation">Box-cox Transformation</h3>
<p>To fix extremely skewed data <strong>Box-Cox transformation</strong> can be used, which searches for the best lambda value that maximizes the log-likelihood.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>BoxCoxIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>moma_count_to_year, <span class="at">method =</span> <span class="st">"Box-Cox"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(BoxCoxIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with Box-Cox

* Information of Transformation (before vs after)
         Original Transformation
n          1972.0       1972.000
na            0.0          0.000
mean          6.9          1.129
sd            8.9          0.777
se_mean       0.2          0.018
IQR           6.0          1.067
skewness      2.8          0.038
kurtosis      9.0         -0.904
p00           1.0          0.000
p01           1.0          0.000
p05           1.0          0.000
p10           1.0          0.000
p20           1.0          0.000
p25           2.0          0.649
p30           2.0          0.649
p40           3.0          0.991
p50           4.0          1.218
p60           5.0          1.386
p70           7.0          1.626
p75           8.0          1.717
p80           9.0          1.795
p90          17.0          2.189
p95          27.0          2.447
p99          44.0          2.695
p100         64.0          2.871</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>BoxCoxIns <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Hw-02-01_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li>We can calculating the transformation based on method <strong>Box-Cox</strong> for <strong>Box-Cox</strong> transformation fixing the extremely skewed data.</li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>